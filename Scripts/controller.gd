extends Node

# state
var _ctrlState := "none"

# options
@export var options: Dictionary = {
	"goals_timeline": false,
	"actions_timeline": false,
	"domain": "food_assembly",
	"maintenance_goals": false,
	"map": "default_map", 
	"save": "map.save",
	"debug_path_plan": false,
	"log_to_backend": false,
	"log_to_frontend": false,
	"replay": false,
	"replay_file": "0log_simple_map_zoom",
	"uncert_experiment": false,
	"uncert_paint": false,
	"uncert_sliders": true,
	"uncert_rank": false,
	"camera_tutorial": false,
	"load_uncert": false,
	"load_uncert_file": "pilot/paint.txt",
	"accuracy_analysis_curr_room_only": false,
	"slider_accuracy_center_only": false,
	"uncert_analysis": false,
	"manual_analysis": false
}

# saves
@export var preloaded_saves := {
	"food_assembly_map.save":  {"map": ["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[2,5,0]}", "{\"bounding_box\":[[-6.09257555007935,5.01831865310669,0],[-6.10792446136475,4.55792236328125,0],[-6.16930866241455,4.11287212371826,0],[-6.16930913925171,3.63712978363037,0],[-6.16930913925171,3.16138672828674,0],[-6.16930913925171,2.83910989761353,0],[-6.18465709686279,2.57821846008301,0],[-6.18465709686279,2.27128791809082,0],[-6.06188297271729,1.88762474060059,0],[-5.96980476379395,1.74950551986694,0],[-5.93911123275757,1.71881246566772,0],[-5.90841865539551,1.70346617698669,0],[-5.15643787384033,1.70346593856812,0],[-4.26633882522583,1.70346617698669,0],[-2.73168468475342,1.64208006858826,0],[-2.05643653869629,1.58069396018982,0],[-1.42722880840302,1.58069396018982,0],[-1.30445611476898,1.58069396018982,0],[-0.72128707170486,1.73415923118591,0],[-0.32227712869644,1.87227749824524,0],[-0.16881173849106,1.97970366477966,0],[-0.16881173849106,1.99505066871643,0],[-0.16881170868874,2.08712959289551,0],[-0.16881170868874,2.44010019302368,0],[-0.15346542000771,3.06930804252625,0],[-0.15346542000771,3.48366498947144,0],[-0.26089072227478,4.12822008132935,0],[-0.36831724643707,4.45049810409546,0],[-0.42970365285873,4.66534900665283,0],[-0.46039623022079,4.68069458007813,0],[-1.18168330192566,4.83416128158569,0],[-1.93366408348084,4.91089248657227,0],[-3.16138696670532,5.00297164916992,0],[-3.72921013832092,5.00297355651855,0],[-3.9594087600708,5.00297260284424,0],[-4.0514874458313,5.00297260284424,0]],\"entity_class\":\"surface\",\"properties\":{},\"label\":\"dining_table\", \"waypoints\": []}", "{\"bounding_box\":[[-16.1599063873291,5.24851655960083,0],[-16.1599082946777,4.557922363218125,0],[-16.0831756591797,3.75990200042725,0],[-16.0831756591797,3.03861522674561,0],[-16.0831737518311,2.57821917533875,0],[-16.0831737518311,1.94901061058044,0],[-16.0831756591797,1.53465414047241,0],[-16.0831737518311,0.982178330421448,0],[-16.0831737518311,0.629207968711853,0],[-16.0831737518311,0.168812155723572,0],[-16.0831756591797,-0.10742527246475,0],[-16.0985221862793,-0.24554437398911,0],[-16.1292171478271,-0.38366341590881,0],[-16.1752548217773,-0.5831686258316,0],[-16.2059478759766,-0.79802078008652,0],[-16.2059459686279,-1.08960425853729,0],[-16.2059478759766,-1.18168425559998,0],[-16.0831756591797,-1.19702959060669,0],[-15.8529796600342,-1.21237671375275,0],[-15.0856494903564,-1.21237659454346,0],[-13.8579273223877,-1.21237671375275,0],[-12.8910961151123,-1.21237659454346,0],[-12.5227785110474,-1.21237671375275,0],[-11.9242630004883,-1.2430704832077,0],[-11.4178276062012,-1.25841593742371,0],[-11.1876287460327,-1.25841581821442,0],[-11.12624168396,-1.25841593742371,0],[-10.7732734680176,-1.28910946846008,0],[-10.4816875457764,-1.30445659160614,0],[-10.2975292205811,-1.30445635318756,0],[-10.1901044845581,-1.30445659160614,0],[-9.89852046966553,-1.33514881134033,0],[-9.49951076507568,-1.38118815422058,0],[-9.422776222229,-1.38118803501129,0],[-9.10049915313721,-1.38118803501129,0],[-8.70148754119873,-1.38118803501129,0],[-8.440598487854,-1.39653480052948,0],[-8.27178573608398,-1.39653480052948,0],[-7.90346908569336,-1.39653503894806,0],[-7.8113899230957,-1.39653480052948,0],[-7.75000286102295,-1.30445671081543,0],[-7.62722969055176,-0.90544611215591,0],[-7.59653759002686,-0.49108874797821,0],[-7.59653759002686,-0.09207987785339,0],[-7.68861770629883,0.859406232833862,0],[-7.84208202362061,1.39653468132019,0],[-7.91881465911865,2.0410897731781,0],[-7.93416118621826,2.37871408462524,0],[-7.98020172119141,2.79307079315186,0],[-8.02624225616455,3.14604091644287,0],[-8.07228088378906,3.45297193527222,0],[-8.08762645721436,3.71386289596558,0],[-8.1336669921875,4.15891265869141,0],[-8.1336669921875,4.51188325881958,0],[-8.1336669921875,4.77277517318726,0],[-8.1643590927124,4.91089248657227,0],[-8.22574615478516,5.06435918807983,0],[-8.34851837158203,5.21782398223877,0],[-8.74752902984619,5.37128973007202,0],[-9.34604549407959,5.5707950592041,0],[-9.72970771789551,5.70891332626343,0],[-10.0673313140869,5.78564548492432,0],[-10.4356479644775,5.86237812042236,0],[-11.1876287460327,5.87772464752197,0],[-11.6633720397949,5.87772512435913,0],[-12.3386201858521,5.87772417068481,0],[-12.722282409668,5.87772464752197,0],[-13.1980228424072,5.87772369384766,0],[-13.2901048660278,5.87772512435913,0]],\"entity_class\":\"region\",\"properties\":{},\"label\":\"kitchen\", \"waypoints\": []}", "{\"bounding_box\":[[-14.9168376922607,3.85198163986206,0],[-14.9168386459351,3.43762493133545,0],[-14.9014921188354,2.88514995574951,0],[-14.9014930725098,2.54752612113953,0],[-14.9168386459351,2.22524857521057,0],[-14.9475317001343,2.07178282737732,0],[-14.9475317001343,1.96435737609863,0],[-14.94753074646,1.85693168640137,0],[-14.94753074646,1.78019857406616,0],[-14.94753074646,1.73415923118591,0],[-14.9475317001343,1.7188127040863,0],[-14.6099061965942,1.71881222724915,0],[-13.873272895813,1.71881246566772,0],[-12.7376308441162,1.7188127040863,0],[-12.1237668991089,1.71881246566772,0],[-11.3257484436035,1.7188127040863,0],[-11.0341644287109,1.7188127040863,0],[-10.6044616699219,1.71881246566772,0],[-10.3435678482056,1.70346641540527,0],[-10.0826778411865,1.67277336120605,0],[-9.89852046966553,1.64208030700684,0],[-9.71436023712158,1.5806941986084,0],[-9.69901371002197,1.5806941986084,0],[-9.65297603607178,1.65742659568787,0],[-9.46881675720215,2.13316893577576,0],[-9.40743064880371,2.7930703163147,0],[-9.37673759460449,3.54505109786987,0],[-9.37673759460449,3.99010038375854,0],[-9.37673664093018,4.43514966964722,0],[-9.40743064880371,4.55792236328125,0],[-9.40743160247803,4.58861589431763,0],[-9.49950981140137,4.58861541748047,0],[-9.97525310516357,4.63465547561646,0],[-11.3564405441284,4.66534852981567,0],[-11.7401027679443,4.66534805297852,0]],\"entity_class\":\"surface\",\"properties\":{},\"label\":\"kitchen_table\", \"waypoints\": []}", "{\"entity_class\":\"item\",\"label\":\"plate\",\"properties\":{\"is_grabbable\":true,\"is_openable\":false},\"position\":[-0.78267335891724,3.72920894622803], \"waypoints\": []}", "{\"entity_class\":\"item\",\"label\":\"cup\",\"properties\":{\"is_grabbable\":true,\"is_openable\":false},\"position\":[-5.32524871826172,4.14356565475464], \"waypoints\": []}"]},
	"map.save": {"map":["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[2,5,0]}","{\"bounding_box\":[[4.16377782821655,6.41446018218994,0],[4.19496059417725,-0.78806114196777,0],[17.3542518615723,-0.81187677383423,0],[17.270206451416,6.43355941772461,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0],[4.17377805709839,6.41446018218994,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"office\",\"uniquelabel\":\"office\",\"label_position\":[7.68233728408813,1.98022937774658],\"properties\":{},\"waypoints\":[{\"wp_name\":\"top left\",\"wp_position\":[5.95709609985352,5.3087043762207,0.100000001490116]},{\"wp_name\":\"bottom left\",\"wp_position\":[6.05840730667114,0.344458103179932,0.100000001490116]},{\"wp_name\":\"middle left\",\"wp_position\":[8.40882587432861,2.6746141910553,0.100000001490116]},{\"wp_name\":\"near upper desk\",\"wp_position\":[11.0226526260376,5.85578441619873,0.100000001490116]},{\"wp_name\":\"near lower desk\",\"wp_position\":[10.6579332351685,0.0810492187738419,0.100001908838749]},{\"wp_name\":\"bottom right\",\"wp_position\":[15.5006046295166,0.344458043575287,0.100001908838749]},{\"wp_name\":\"top right\",\"wp_position\":[15.6221799850464,5.16686868667603,0.0999980941414833]},{\"wp_name\":\"middle right\",\"wp_position\":[13.2312345504761,2.77592539787292,0.100000001490116]}]}","{\"bounding_box\":[[-4.14382839202881,-1.32020044326782,0],[-4.19583415985107,-7.05570697784424,0],[3.85172176361084,-7.17337942123413,0],[3.88531255722046,-1.55349063873291,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0],[-4.13382816314697,-1.32020044326782,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"meeting_room\",\"uniquelabel\":\"meeting_room\",\"label_position\":[-1.50807225704193,-2.45104265213013],\"properties\":{},\"waypoints\":[{\"wp_name\":\"upper middle\",\"wp_position\":[-0.30393350124359,-2.3301568031311,0.0999961867928505]},{\"wp_name\":\"upper left\",\"wp_position\":[-3.05959701538086,-2.51251697540283,0.0999980941414833]},{\"wp_name\":\"upper right\",\"wp_position\":[2.85697412490845,-2.69487690925598,0.100000001490116]},{\"wp_name\":\"middle right\",\"wp_position\":[2.7556631565094,-4.9439845085144,0.100000001490116]},{\"wp_name\":\"middle left\",\"wp_position\":[-3.54589033126831,-4.70083618164063,0.0999980941414833]},{\"wp_name\":\"lower left\",\"wp_position\":[-3.30274391174316,-6.58522415161133,0.100000001490116]},{\"wp_name\":\"lower middle\",\"wp_position\":[-0.4660313129425,-6.48391389846802,0.0999980941414833]},{\"wp_name\":\"lower right\",\"wp_position\":[2.59356546401978,-6.52443647384644,0.100000001490116]}]}","{\"bounding_box\":[[-6.63953495025635,6.7508864402771,0],[-6.63094520568848,1.66515827178955,0],[-7.11160802841187,1.6389045715332,0],[-7.22638177871704,-1.22437858581543,0],[3.88448333740234,-1.56746625900269,0],[4.01417589187622,3.17647790908813,0],[4.16882419586182,3.16508865356445,0],[4.15490579605103,6.44956922531128,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0],[-6.62953472137451,6.7508864402771,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"workspace\",\"uniquelabel\":\"workspace\",\"label_position\":[-2.99532532691956,0.270092010498047],\"properties\":{},\"waypoints\":[{\"wp_name\":\"upper right\",\"wp_position\":[1.60071611404419,5.08581876754761,0.100000001490116]},{\"wp_name\":\"between upper desk and shelves\",\"wp_position\":[-2.26936960220337,4.76162433624268,0.100000001490116]},{\"wp_name\":\"between middle desk and shelves\",\"wp_position\":[-4.43742847442627,3.01907253265381,0.0999980941414833]},{\"wp_name\":\"near lower shelves\",\"wp_position\":[-5.53158807754517,0.121573053300381,0.100000001490116]},{\"wp_name\":\"near lower desk\",\"wp_position\":[-2.28963160514832,0.162097662687302,0.100000001490116]},{\"wp_name\":\"lower right\",\"wp_position\":[1.35756933689117,0.202622294425964,0.100000001490116]},{\"wp_name\":\"middle right\",\"wp_position\":[1.1549471616745,2.63409018516541,0.0999980941414833]}]}","{\"bounding_box\":[[-11.0199632644653,-1.44049549102783,0],[-11.0826072692871,-6.90074777603149,0],[-4.55821418762207,-7.04887866973877,0],[-4.42618942260742,-1.29406452178955,0],[-7.22117471694946,-1.24881839752197,0],[-7.3010425567627,-1.574866771698,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0],[-11.0099630355835,-1.44049549102783,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"copy_room\",\"uniquelabel\":\"copy_room\",\"label_position\":[-8.57009410858154,-4.57442092895508],\"properties\":{},\"waypoints\":[{\"wp_name\":\"entrance\",\"wp_position\":[-5.99762010574341,-2.51251673698425,0.100001908838749]},{\"wp_name\":\"by shelves\",\"wp_position\":[-9.66508197784424,-3.50536584854126,0.100000001490116]},{\"wp_name\":\"lower right\",\"wp_position\":[-6.17998027801514,-5.53158950805664,0.100000001490116]},{\"wp_name\":\"lower left\",\"wp_position\":[-9.70560741424561,-5.38975238800049,0.100000001490116]}]}","{\"bounding_box\":[[-17.1901512145996,-1.08324217796326,0],[-7.21046495437622,-1.2169349193573,0],[-6.94804620742798,6.7618579864502,0],[-16.9981250762939,6.9680347442627,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0],[-17.1801509857178,-1.08324217796326,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"entry\",\"uniquelabel\":\"entry\",\"label_position\":[-13.0972232818604,1.36241662502289],\"properties\":{},\"waypoints\":[{\"wp_name\":\"near desk\",\"wp_position\":[-10.2324266433716,2.87723636627197,0.0999980941414833]},{\"wp_name\":\"near upper desk\",\"wp_position\":[-8.51013660430908,5.73421144485474,0.0999980941414833]},{\"wp_name\":\"near reception\",\"wp_position\":[-14.1430368423462,5.79499769210815,0.0999980941414833]},{\"wp_name\":\"in reception\",\"wp_position\":[-14.021463394165,3.12038373947144,0.0999980941414833]},{\"wp_name\":\"near lower desk\",\"wp_position\":[-8.61144828796387,0.0810492411255836,0.0999961867928505]},{\"wp_name\":\"bottom middle\",\"wp_position\":[-12.8665170669556,0.263408839702606,0.100000001490116]},{\"wp_name\":\"bottom left\",\"wp_position\":[-15.5816564559937,0.283671528100967,0.0999980941414833]}]}","{\"bounding_box\":[[-17.1903057098389,-1.07108688354492,0],[-17.2574443817139,-6.76510667800903,0],[-11.3766603469849,-6.89788484573364,0],[-11.2747764587402,-1.46688079833984,0],[-14.1703653335571,-1.49625635147095,0],[-14.4367761611938,-1.1110143661499,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0],[-17.180305480957,-1.07108688354492,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"kitchenette\",\"uniquelabel\":\"kitchenette\",\"label_position\":[-14.8397932052612,-4.17518186569214],\"properties\":{},\"waypoints\":[{\"wp_name\":\"entrance\",\"wp_position\":[-15.8450632095337,-2.4517297744751,0.0999980941414833]},{\"wp_name\":\"upper right\",\"wp_position\":[-13.2109746932983,-2.6138277053833,0.100000001490116]},{\"wp_name\":\"near countertop\",\"wp_position\":[-15.4803438186646,-4.86293506622314,0.100000001490116]},{\"wp_name\":\"lower right\",\"wp_position\":[-12.6638927459717,-4.72109985351563,0.100000001490116]}]}","{\"bounding_box\":[[-1.19606995582581,6.51901483535767,0],[-6.55147457122803,6.59144973754883,0],[-6.71039247512817,1.3985743522644,0],[-5.38699293136597,1.42567050457001,0],[-5.33699703216553,5.2920389175415,0],[-1.13732004165649,5.19204711914063,0],[-1.18606996536255,6.51901483535767,0],[-1.18606996536255,6.51901483535767,0],[-1.18606996536255,6.51901483535767,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"shelves\",\"uniquelabel\":\"shelves1\",\"label_position\":[-4.03784513473511,5.99367666244507],\"properties\":{},\"waypoints\":[{\"wp_name\":\"ws lower\",\"wp_position\":[-6.15060663223267,1.94229650497437,1.99999904632568]},{\"wp_name\":\"ws left middle\",\"wp_position\":[-6.18657493591309,3.97451400756836,1.99999904632568]},{\"wp_name\":\"ws top left\",\"wp_position\":[-6.00673198699951,5.97076320648193,2]},{\"wp_name\":\"ws top middle\",\"wp_position\":[-3.75870394706726,5.93479537963867,1.99999904632568]},{\"wp_name\":\"ws top right\",\"wp_position\":[-1.74446976184845,5.95277786254883,2.00000095367432]}]}","{\"bounding_box\":[[-2.93718147277832,3.92547821998596,0],[-2.96331787109375,1.30325746536255,0],[-1.40396618843079,1.22568511962891,0],[-1.38730049133301,3.87548160552979,0],[-2.92718148231506,3.92547821998596,0],[-2.92718148231506,3.92547821998596,0],[-2.92718148231506,3.92547821998596,0],[-2.92718148231506,3.92547821998596,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"desk\",\"uniquelabel\":\"desk1\",\"label_position\":[-1.93480157852173,2.6288058757782],\"properties\":{},\"waypoints\":[{\"wp_name\":\"ws upper\",\"wp_position\":[-2.21205997467041,3.25514483451843,1.99999904632568]},{\"wp_name\":\"ws lower\",\"wp_position\":[-2.2660129070282,1.99624931812286,1.99999809265137]}]}","{\"bounding_box\":[[-2.39849185943604,-3.47682929039001,0],[-2.38742923736572,-5.51666164398193,0],[1.58443689346313,-5.49590349197388,0],[1.57017374038696,-3.46327114105225,0],[-2.38849186897278,-3.47682929039001,0],[-2.38849186897278,-3.47682929039001,0],[-2.38849186897278,-3.47682929039001,0],[-2.38849186897278,-3.47682929039001,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"table\",\"uniquelabel\":\"table\",\"label_position\":[-0.16824340820313,-4.35330200195313],\"properties\":{},\"waypoints\":[{\"wp_name\":\"upper left\",\"wp_position\":[-1.87035942077637,-3.95652961730957,2.00000095367432]},{\"wp_name\":\"upper right\",\"wp_position\":[1.02510094642639,-3.92056202888489,2]},{\"wp_name\":\"lower right\",\"wp_position\":[0.917195618152618,-4.98162984848022,2.00000095367432]},{\"wp_name\":\"lower left\",\"wp_position\":[-1.87035965919495,-4.89170980453491,2]}]}","{\"bounding_box\":[[-10.9766702651978,-1.50279688835144,0],[-10.9564514160156,-2.73533248901367,0],[-7.41296911239624,-2.78832316398621,0],[-7.34025526046753,-1.57186961174011,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0],[-10.9666700363159,-1.50279688835144,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"shelves\",\"uniquelabel\":\"shelves2\",\"label_position\":[-9.23236656188965,-2.06098341941834],\"properties\":{},\"waypoints\":[{\"wp_name\":\"cr left\",\"wp_position\":[-10.1431035995483,-2.19407486915588,2.00000095367432]},{\"wp_name\":\"cr right\",\"wp_position\":[-8.30871391296387,-2.14012336730957,1.99999904632568]}]}","{\"bounding_box\":[[-17.0750617980957,-5.49537897109985,0],[-17.0227870941162,-6.61927318572998,0],[-12.9846086502075,-6.73689031600952,0],[-12.9976768493652,-5.58685874938965,0],[-17.0650615692139,-5.49537897109985,0],[-17.0650615692139,-5.49537897109985,0],[-17.0650615692139,-5.49537897109985,0],[-17.0650615692139,-5.49537897109985,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"countertop\",\"uniquelabel\":\"countertop\",\"label_position\":[-15.6623706817627,-6.01061487197876],\"properties\":{},\"waypoints\":[{\"wp_name\":\"left\",\"wp_position\":[-16.5994453430176,-6.04270076751709,2]},{\"wp_name\":\"middle\",\"wp_position\":[-14.8991556167603,-6.04092025756836,2]},{\"wp_name\":\"right\",\"wp_position\":[-13.3982496261597,-6.0409197807312,2]}]}","{\"bounding_box\":[[-15.2076988220215,4.64256572723389,0],[-15.2076988220215,3.76721429824829,0],[-11.2460174560547,3.7613410949707,0],[-11.1467447280884,4.61343383789063,0],[-15.1976985931396,4.64256572723389,0],[-15.1976985931396,4.64256572723389,0],[-15.1976985931396,4.64256572723389,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"reception\",\"uniquelabel\":\"reception\",\"label_position\":[-13.4331436157227,4.31533288955688],\"properties\":{},\"waypoints\":[{\"wp_name\":\"left\",\"wp_position\":[-14.7290811538696,4.28024530410767,2.00000095367432]},{\"wp_name\":\"middle\",\"wp_position\":[-13.2184076309204,4.26226234436035,2]},{\"wp_name\":\"right\",\"wp_position\":[-11.9055595397949,4.1903247833252,1.99999904632568]}]}","{\"bounding_box\":[[9.86111164093018,4.76977682113647,0],[9.78378200531006,0.78159499168396,0],[11.5263328552246,0.801857590675354,0],[11.3795795440674,4.71618366241455,0],[9.87111186981201,4.76977682113647,0],[9.87111186981201,4.76977682113647,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"desk\",\"uniquelabel\":\"desk2\",\"label_position\":[10.6834678649902,2.77601861953735],\"properties\":{},\"waypoints\":[{\"wp_name\":\"office lower\",\"wp_position\":[10.6106948852539,1.38478577136993,1.99999904632568]},{\"wp_name\":\"office middle\",\"wp_position\":[10.6106948852539,2.87747621536255,2]},{\"wp_name\":\"office upper\",\"wp_position\":[10.5927104949951,4.29823064804077,1.99999904632568]}]}","{\"bounding_box\":[[-8.77354526519775,4.36129379272461,0],[-8.82497978210449,1.37555372714996,0],[-7.25291872024536,1.39341771602631,0],[-7.28373193740845,4.33515739440918,0],[-8.76354503631592,4.36129379272461,0],[-8.76354503631592,4.36129379272461,0],[-8.76354503631592,4.36129379272461,0],[-8.76354503631592,4.36129379272461,0],[-8.76354503631592,4.36129379272461,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"desk\",\"uniquelabel\":\"desk3\",\"label_position\":[-7.82332611083984,2.98632311820984],\"properties\":{},\"waypoints\":[{\"wp_name\":\"entry lower\",\"wp_position\":[-8.1108865737915,1.96028089523315,2.00000095367432]},{\"wp_name\":\"entry upper\",\"wp_position\":[-8.07491874694824,3.68676686286926,2]}]}"]},
	"tutorial.save": {"map":["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[2,5,0]}","{\"bounding_box\":[[-17.0072536468506,6.98006010055542,0],[-17.1125354766846,-6.70450592041016,0],[4.00322675704956,-7.1176552772522,0],[17.5761165618896,-7.33720779418945,0],[17.2294158935547,6.47071361541748,0],[4.08164691925049,6.70146417617798,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"region\",\"label\":\"floor\",\"label_position\":[1.34214925765991,-3.59354448318481],\"properties\":{},\"waypoints\":[{\"wp_name\":\"upper right\",\"wp_position\":[1.60071611404419,5.08581876754761,0.100000001490116]},{\"wp_name\":\"between upper desk and shelves\",\"wp_position\":[-2.26936960220337,4.76162433624268,0.100000001490116]},{\"wp_name\":\"between middle desk and shelves\",\"wp_position\":[-4.43742847442627,3.01907253265381,0.0999980941414833]},{\"wp_name\":\"near lower shelves\",\"wp_position\":[-5.53158807754517,0.121573053300381,0.100000001490116]},{\"wp_name\":\"near lower desk\",\"wp_position\":[-2.28963160514832,0.162097662687302,0.100000001490116]},{\"wp_name\":\"lower right\",\"wp_position\":[1.35756933689117,0.202622294425964,0.100000001490116]},{\"wp_name\":\"middle right\",\"wp_position\":[1.1549471616745,2.63409018516541,0.0999980941414833]}]}","{\"bounding_box\":[[-5.45135307312012,2.88546514511108,0],[-5.58662986755371,-0.46263879537582,0],[1.05070972442627,-0.57945561408997,0],[0.932341575622559,2.83628606796265,0]],\"color\":[0.100000001490116,0.100000001490116,0.100000001490116,1],\"entity_class\":\"surface\",\"label\":\"surface\",\"label_position\":[-2.26373291015625,1.16991424560547],\"properties\":{},\"waypoints\":[{\"wp_name\":\"lower\",\"wp_position\":[-8.1108865737915,1.96028089523315,2.00000095367432]},{\"wp_name\":\"upper\",\"wp_position\":[-8.07491874694824,3.68676686286926,2]}]}"]},
	"actions_food_assembly_map.save": {"map":["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[0,0,0]}","{\"bounding_box\":[[-17.1343383789063,7.13192319869995,0],[-17.2119998931885,-1.14587485790253,0],[-6.73201608657837,-1.26523625850677,0],[-6.8991231918335,0.167106434702873,0],[-6.94686794281006,6.8036322593689,0],[-10.5038547515869,7.04235696792603,0],[-12.7956056594849,6.9946117401123,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"kitchen_area\",\"label_position\":[-11.1748294830322,3.67550277709961],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-6.4770712852478,6.6953125,0],[-6.29235792160034,-1.07425832748413,0],[-2.85473155975342,-1.26523649692535,0],[3.55381226539612,-1.37773549556732,0],[3.7230076789856,6.35692024230957,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"living_room\",\"label_position\":[-1.66946816444397,1.86700046062469],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.1435794830322,6.81457376480103,0],[-16.6846866607666,3.29737448692322,0],[-15.7546577453613,3.21282696723938,0],[-15.0782737731934,3.24664568901062,0],[-14.6048049926758,6.61165857315063,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"countertop\",\"label_position\":[-15.6532001495361,4.63661575317383],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.9997901916504,2.11023449897766,0],[-16.9997882843018,2.05051136016846,0],[-16.9997882843018,1.91115570068359,0],[-16.9997882843018,1.77180075645447,0],[-16.9997882843018,1.67226123809814,0],[-16.9997863769531,1.57272219657898,0],[-16.9997882843018,1.41345882415771,0],[-16.9997882843018,1.31392002105713,0],[-16.9997882843018,1.21438026428223,0],[-16.9997882843018,1.11484062671661,0],[-16.9997882843018,1.01530158519745,0],[-16.9997882843018,0.875946164131165,0],[-16.9997882843018,0.79631507396698,0],[-16.9997863769531,0.736591279506683,0],[-16.9997882843018,0.676867544651031,0],[-16.9997882843018,0.61714380979538,0],[-16.9997882843018,0.577328562736511,0],[-16.9997882843018,0.477788895368576,0],[-16.9997863769531,0.418065160512924,0],[-16.9997901916504,0.358342051506042,0],[-16.9997882843018,0.278710335493088,0],[-16.9997882843018,0.179170683026314,0],[-16.9997882843018,0.0995396226644516,0],[-16.9997882843018,0,0],[-16.9997882843018,-0.0398158505559,0],[-16.9997882843018,-0.139354839921,0],[-16.9997882843018,-0.17917068302631,0],[-16.9997901916504,-0.21898654103279,0],[-16.9997882843018,-0.27870973944664,0],[-16.9997882843018,-0.29861822724342,0],[-16.9997882843018,-0.33843412995338,0],[-16.9997901916504,-0.35834142565727,0],[-16.9997882843018,-0.3782499730587,0],[-16.9997863769531,-0.3981571495533,0],[-16.9997882843018,-0.45788162946701,0],[-16.9997882843018,-0.49769619107246,0],[-16.9997901916504,-0.51760482788086,0],[-16.9997863769531,-0.53751200437546,0],[-16.9997882843018,-0.55742067098618,0],[-16.9798793792725,-0.59723651409149,0],[-16.9400653839111,-0.57732790708542,0],[-16.8405246734619,-0.57732790708542,0],[-16.7011699676514,-0.57732778787613,0],[-16.4423675537109,-0.57732784748077,0],[-16.3428287506104,-0.57732790708542,0],[-16.2631988525391,-0.57732790708542,0],[-16.2233829498291,-0.57732796669006,0],[-16.1835651397705,-0.57732784748077,0],[-16.1636581420898,-0.57732790708542,0],[-16.0840263366699,-0.57732790708542,0],[-16.04421043396,-0.57732784748077,0],[-15.96457862854,-0.57732790708542,0],[-15.8849487304688,-0.57732802629471,0],[-15.8451328277588,-0.57732796669006,0],[-15.8053150177002,-0.57732796669006,0],[-15.7256832122803,-0.57732784748077,0],[-15.6858692169189,-0.57732796669006,0],[-15.6261444091797,-0.57732784748077,0],[-15.5664215087891,-0.57732790708542,0],[-15.5266056060791,-0.57732784748077,0],[-15.4668827056885,-0.57732784748077,0],[-15.4071578979492,-0.57732784748077,0],[-15.3673419952393,-0.57732784748077,0],[-15.34743309021,-0.57732796669006,0],[-15.3275260925293,-0.57732784748077,0],[-15.3076190948486,-0.57732790708542,0],[-15.3076190948486,-0.57732790708542,0],[-15.2678031921387,-0.55742067098618,0],[-15.2678031921387,-0.53751212358475,0],[-15.26780128479,-0.49769616127014,0],[-15.2678031921387,-0.33843407034874,0],[-15.26780128479,-0.19907923042774,0],[-15.3076190948486,-0.0398158505559,0],[-15.34743309021,0.0398158505558968,0],[-15.3474349975586,0.119447559118271,0],[-15.3673419952393,0.159262776374817,0],[-15.3673419952393,0.258802384138107,0],[-15.3872509002686,0.378249317407608,0],[-15.3872489929199,0.398157179355621,0],[-15.3872509002686,0.497696816921234,0],[-15.4469738006592,0.577328562736511,0],[-15.4469738006592,0.637051701545715,0],[-15.4469757080078,0.79631507396698,0],[-15.4469738006592,0.856038212776184,0],[-15.4469738006592,0.955577850341797,0],[-15.4469757080078,1.01530170440674,0],[-15.4469738006592,1.11484062671661,0],[-15.4469738006592,1.21438014507294,0],[-15.4469738006592,1.35373497009277,0],[-15.4469738006592,1.45327460765839,0],[-15.4469738006592,1.59262955188751,0],[-15.4469738006592,1.69216918945313,0],[-15.4469738006592,1.75189292430878,0],[-15.4469757080078,1.85143220424652,0],[-15.4469757080078,1.95097184181213,0],[-15.4469738006592,1.99078726768494,0],[-15.4469757080078,2.05051136016846,0],[-15.4469757080078,2.07041907310486,0],[-15.4469757080078,2.09032654762268,0],[-15.4469757080078,2.13014245033264,0],[-15.4469738006592,2.15005016326904,0],[-15.4469738006592,2.18986582756042,0],[-15.4469738006592,2.22968196868896,0],[-15.4469718933105,2.24958944320679,0],[-15.4469738006592,2.26949787139893,0],[-15.4668827056885,2.28940582275391,0],[-15.5664215087891,2.28940606117249,0],[-15.6261444091797,2.28940582275391,0],[-15.7256851196289,2.28940582275391,0],[-15.8650379180908,2.28940558433533,0],[-15.9446716308594,2.28940582275391,0],[-16.00439453125,2.28940582275391,0],[-16.0641174316406,2.28940558433533,0],[-16.1039352416992,2.28940582275391,0],[-16.1437511444092,2.28940606117249,0],[-16.2432880401611,2.28940558433533,0],[-16.4622764587402,2.28940558433533,0],[-16.6613540649414,2.28940558433533,0],[-16.8206176757813,2.28940534591675,0],[-16.8405265808105,2.28940606117249,0],[-16.8604335784912,2.28940582275391,0],[-16.8803405761719,2.26949763298035,0],[-16.9002494812012,2.26949739456177,0],[-16.9599723815918,2.26949763298035,0],[-16.9997863769531,2.24958968162537,0],[-17.0196971893311,2.24958968162537,0],[-16.9897899627686,2.11023449897766,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"food_pantry\",\"label_position\":[-16.0004119873047,0.601217746734619],\"properties\":{},\"waypoints\":[]}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"can_of_soup\",\"position\":[-16.0232067108154,1.26742339134216],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"pot\",\"position\":[-15.8207178115845,3.8829083442688],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"cup\",\"position\":[-15.3651161193848,5.2159595489502],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"bounding_box\":[[-13.0835332870483,6.67750453948975,0],[-13.0835342407227,6.63483333587646,0],[-13.0835342407227,6.53526544570923,0],[-13.0835342407227,6.43569850921631,0],[-13.1262054443359,6.36457777023315,0],[-13.1262054443359,6.30768203735352,0],[-13.1262054443359,6.27923488616943,0],[-13.1262054443359,6.19389057159424,0],[-13.1262044906616,6.13699388504028,0],[-13.1262073516846,6.10854721069336,0],[-13.1262054443359,6.03742647171021,0],[-13.1262054443359,5.98053121566772,0],[-13.1262044906616,5.90941047668457,0],[-13.1262054443359,5.86673831939697,0],[-13.1262054443359,5.80984258651733,0],[-13.1262054443359,5.78139448165894,0],[-13.1262054443359,5.71027565002441,0],[-13.1262054443359,5.68182754516602,0],[-13.1262054443359,5.61070728302002,0],[-13.1262054443359,5.55381155014038,0],[-13.1262054443359,5.52536344528198,0],[-13.1262063980103,5.46846866607666,0],[-13.1262054443359,5.44002056121826,0],[-13.1262054443359,5.41157150268555,0],[-13.1262054443359,5.38312339782715,0],[-13.1262054443359,5.32622814178467,0],[-13.1262054443359,5.26933193206787,0],[-13.1262054443359,5.22666025161743,0],[-13.1262054443359,5.19821310043335,0],[-13.1262054443359,5.14131593704224,0],[-13.1262054443359,5.11286926269531,0],[-13.1262044906616,5.0986442565918,0],[-13.1262054443359,5.0701961517334,0],[-13.0835342407227,5.05597257614136,0],[-13.0124130249023,5.05597257614136,0],[-12.9128456115723,5.05597257614136,0],[-12.7137107849121,5.05597257614136,0],[-12.6425905227661,5.0559720993042,0],[-12.5856943130493,5.05597257614136,0],[-12.543023109436,5.0559720993042,0],[-12.5003509521484,5.05597257614136,0],[-12.47190284729,5.05597305297852,0],[-12.400782585144,5.05597257614136,0],[-12.3296642303467,5.05597257614136,0],[-12.2016468048096,5.04174852371216,0],[-12.0736322402954,4.99907732009888,0],[-11.9313926696777,4.97062921524048,0],[-11.8318243026733,4.97062921524048,0],[-11.7607040405273,4.97062873840332,0],[-11.7464809417725,4.97062921524048,0],[-11.7322559356689,4.97062873840332,0],[-11.6895847320557,4.97062826156616,0],[-11.6326885223389,4.97062873840332,0],[-11.5473442077637,4.97062873840332,0],[-11.476224899292,4.98485326766968,0],[-11.3624334335327,4.98485279083252,0],[-11.2628660202026,4.98485279083252,0],[-11.1917457580566,4.98485279083252,0],[-11.1348495483398,4.98485231399536,0],[-11.1064014434814,4.98485279083252,0],[-11.0637302398682,4.99907732009888,0],[-11.0352821350098,4.99907684326172,0],[-11.0068340301514,4.99907636642456,0],[-10.9926099777222,4.99907636642456,0],[-10.978385925293,4.99907636642456,0],[-10.9499378204346,5.01330089569092,0],[-10.9499378204346,5.02752494812012,0],[-10.9499378204346,5.08442115783691,0],[-10.9499378204346,5.15554046630859,0],[-10.9499378204346,5.19821214675903,0],[-10.9499378204346,5.28355646133423,0],[-10.9499378204346,5.35467624664307,0],[-10.9499378204346,5.4257960319519,0],[-10.9499378204346,5.49691486358643,0],[-10.9499378204346,5.56803560256958,0],[-10.9499378204346,5.6391544342041,0],[-10.9499378204346,5.73872327804565,0],[-10.978385925293,5.85251426696777,0],[-10.978385925293,5.90941047668457,0],[-10.978385925293,5.95208311080933,0],[-10.978385925293,5.99475383758545,0],[-10.978385925293,6.03742599487305,0],[-10.9783849716187,6.06587409973145,0],[-11.0068340301514,6.12276983261108,0],[-11.0210580825806,6.22233819961548,0],[-11.0210590362549,6.27923488616943,0],[-11.0352821350098,6.35035419464111,0],[-11.0352821350098,6.42147493362427,0],[-11.0352821350098,6.47836971282959,0],[-11.0352802276611,6.53526496887207,0],[-11.0352802276611,6.59216117858887,0],[-11.0352811813354,6.63483285903931,0],[-11.0352811813354,6.66328096389771,0],[-11.0352821350098,6.69173002243042,0],[-11.0352821350098,6.7059531211853,0],[-11.0352811813354,6.72017765045166,0],[-11.0352821350098,6.74862575531006,0],[-11.0637302398682,6.76284885406494,0],[-11.0921773910522,6.7628493309021,0],[-11.1632976531982,6.76284885406494,0],[-11.2913131713867,6.74862480163574,0],[-11.4051055908203,6.73440074920654,0],[-11.5615692138672,6.7344012260437,0],[-11.7180328369141,6.73440170288086,0],[-11.8033771514893,6.73440217971802,0],[-11.8887205123901,6.73440170288086,0],[-11.9313907623291,6.73440027236938,0],[-11.9882869720459,6.7059531211853,0],[-12.0309600830078,6.69172859191895,0],[-12.0594081878662,6.69172954559326,0],[-12.0878562927246,6.6917290687561,0],[-12.1447505950928,6.69172859191895,0],[-12.2158718109131,6.67750549316406,0],[-12.230094909668,6.6775050163269,0],[-12.301215171814,6.6775050163269,0],[-12.3581104278564,6.67750549316406,0],[-12.4007816314697,6.67750453948975,0],[-12.4576778411865,6.67750453948975,0],[-12.5003509521484,6.64905691146851,0],[-12.5430221557617,6.64905691146851,0],[-12.5714702606201,6.64905691146851,0],[-12.5856952667236,6.64905738830566,0],[-12.6425895690918,6.63483190536499,0],[-12.6710386276245,6.63483333587646,0],[-12.7421579360962,6.63483333587646,0],[-12.7990531921387,6.63483333587646,0],[-12.870174407959,6.63483381271362,0],[-12.8986206054688,6.63483238220215,0],[-12.9128456115723,6.63483333587646,0],[-12.9697418212891,6.63483381271362,0],[-13.0408611297607,6.63483381271362,0],[-13.1546535491943,6.63483333587646,0],[-13.2542219161987,6.63483238220215,0],[-13.2826709747314,6.63483333587646,0],[-13.3395652770996,6.63483333587646,0],[-13.3537883758545,6.63483381271362,0],[-13.3822374343872,6.63483381271362,0],[-13.3964605331421,6.63483285903931,0],[-13.4533576965332,6.63483381271362,0],[-13.0735330581665,6.67750453948975,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"stovetop\",\"label_position\":[-11.9769086837769,5.69605112075806],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-12.6890430450439,2.34774684906006,0],[-12.7487659454346,0.934288084506989,0],[-9.16534805297852,1.13336682319641,0],[-9.44405841827393,2.54682588577271,0],[-11.7661752700806,2.42244815826416,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"dining_table\",\"label_position\":[-11.1626777648926,1.87693512439728],\"properties\":{},\"waypoints\":[]}"]},
	"both_food_assembly_map.save": {"map":["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[0,0,0]}","{\"bounding_box\":[[-17.1343383789063,7.13192319869995,0],[-17.2119998931885,-1.14587485790253,0],[-6.73201608657837,-1.26523625850677,0],[-6.8991231918335,0.167106434702873,0],[-6.94686794281006,6.8036322593689,0],[-10.5038547515869,7.04235696792603,0],[-12.7956056594849,6.9946117401123,0],[-17.1243381500244,7.13192319869995,0],[-17.1243381500244,7.13192319869995,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"kitchen_area\",\"label_position\":[-11.1748294830322,3.67550277709961],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-6.4770712852478,6.6953125,0],[-6.29235792160034,-1.07425832748413,0],[-2.85473155975342,-1.26523649692535,0],[3.55381226539612,-1.37773549556732,0],[3.7230076789856,6.35692024230957,0],[-6.46707105636597,6.6953125,0],[-6.46707105636597,6.6953125,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"living_room\",\"label_position\":[-1.66946816444397,1.86700046062469],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.1435794830322,6.81457376480103,0],[-16.6846866607666,3.29737448692322,0],[-15.7546577453613,3.21282696723938,0],[-15.0782737731934,3.24664568901062,0],[-14.6048049926758,6.61165857315063,0],[-16.1335792541504,6.81457376480103,0],[-16.1335792541504,6.81457376480103,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"countertop\",\"label_position\":[-15.6532001495361,4.63661575317383],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.9997901916504,2.11023449897766,0],[-16.9997882843018,2.05051136016846,0],[-16.9997882843018,1.91115570068359,0],[-16.9997882843018,1.77180075645447,0],[-16.9997882843018,1.67226123809814,0],[-16.9997863769531,1.57272219657898,0],[-16.9997882843018,1.41345882415771,0],[-16.9997882843018,1.31392002105713,0],[-16.9997882843018,1.21438026428223,0],[-16.9997882843018,1.11484062671661,0],[-16.9997882843018,1.01530158519745,0],[-16.9997882843018,0.875946164131165,0],[-16.9997882843018,0.79631507396698,0],[-16.9997863769531,0.736591279506683,0],[-16.9997882843018,0.676867544651031,0],[-16.9997882843018,0.61714380979538,0],[-16.9997882843018,0.577328562736511,0],[-16.9997882843018,0.477788895368576,0],[-16.9997863769531,0.418065160512924,0],[-16.9997901916504,0.358342051506042,0],[-16.9997882843018,0.278710335493088,0],[-16.9997882843018,0.179170683026314,0],[-16.9997882843018,0.0995396226644516,0],[-16.9997882843018,0,0],[-16.9997882843018,-0.0398158505559,0],[-16.9997882843018,-0.139354839921,0],[-16.9997882843018,-0.17917068302631,0],[-16.9997901916504,-0.21898654103279,0],[-16.9997882843018,-0.27870973944664,0],[-16.9997882843018,-0.29861822724342,0],[-16.9997882843018,-0.33843412995338,0],[-16.9997901916504,-0.35834142565727,0],[-16.9997882843018,-0.3782499730587,0],[-16.9997863769531,-0.3981571495533,0],[-16.9997882843018,-0.45788162946701,0],[-16.9997882843018,-0.49769619107246,0],[-16.9997901916504,-0.51760482788086,0],[-16.9997863769531,-0.53751200437546,0],[-16.9997882843018,-0.55742067098618,0],[-16.9798793792725,-0.59723651409149,0],[-16.9400653839111,-0.57732790708542,0],[-16.8405246734619,-0.57732790708542,0],[-16.7011699676514,-0.57732778787613,0],[-16.4423675537109,-0.57732784748077,0],[-16.3428287506104,-0.57732790708542,0],[-16.2631988525391,-0.57732790708542,0],[-16.2233829498291,-0.57732796669006,0],[-16.1835651397705,-0.57732784748077,0],[-16.1636581420898,-0.57732790708542,0],[-16.0840263366699,-0.57732790708542,0],[-16.04421043396,-0.57732784748077,0],[-15.96457862854,-0.57732790708542,0],[-15.8849487304688,-0.57732802629471,0],[-15.8451328277588,-0.57732796669006,0],[-15.8053150177002,-0.57732796669006,0],[-15.7256832122803,-0.57732784748077,0],[-15.6858692169189,-0.57732796669006,0],[-15.6261444091797,-0.57732784748077,0],[-15.5664215087891,-0.57732790708542,0],[-15.5266056060791,-0.57732784748077,0],[-15.4668827056885,-0.57732784748077,0],[-15.4071578979492,-0.57732784748077,0],[-15.3673419952393,-0.57732784748077,0],[-15.34743309021,-0.57732796669006,0],[-15.3275260925293,-0.57732784748077,0],[-15.3076190948486,-0.57732790708542,0],[-15.3076190948486,-0.57732790708542,0],[-15.2678031921387,-0.55742067098618,0],[-15.2678031921387,-0.53751212358475,0],[-15.26780128479,-0.49769616127014,0],[-15.2678031921387,-0.33843407034874,0],[-15.26780128479,-0.19907923042774,0],[-15.3076190948486,-0.0398158505559,0],[-15.34743309021,0.0398158505558968,0],[-15.3474349975586,0.119447559118271,0],[-15.3673419952393,0.159262776374817,0],[-15.3673419952393,0.258802384138107,0],[-15.3872509002686,0.378249317407608,0],[-15.3872489929199,0.398157179355621,0],[-15.3872509002686,0.497696816921234,0],[-15.4469738006592,0.577328562736511,0],[-15.4469738006592,0.637051701545715,0],[-15.4469757080078,0.79631507396698,0],[-15.4469738006592,0.856038212776184,0],[-15.4469738006592,0.955577850341797,0],[-15.4469757080078,1.01530170440674,0],[-15.4469738006592,1.11484062671661,0],[-15.4469738006592,1.21438014507294,0],[-15.4469738006592,1.35373497009277,0],[-15.4469738006592,1.45327460765839,0],[-15.4469738006592,1.59262955188751,0],[-15.4469738006592,1.69216918945313,0],[-15.4469738006592,1.75189292430878,0],[-15.4469757080078,1.85143220424652,0],[-15.4469757080078,1.95097184181213,0],[-15.4469738006592,1.99078726768494,0],[-15.4469757080078,2.05051136016846,0],[-15.4469757080078,2.07041907310486,0],[-15.4469757080078,2.09032654762268,0],[-15.4469757080078,2.13014245033264,0],[-15.4469738006592,2.15005016326904,0],[-15.4469738006592,2.18986582756042,0],[-15.4469738006592,2.22968196868896,0],[-15.4469718933105,2.24958944320679,0],[-15.4469738006592,2.26949787139893,0],[-15.4668827056885,2.28940582275391,0],[-15.5664215087891,2.28940606117249,0],[-15.6261444091797,2.28940582275391,0],[-15.7256851196289,2.28940582275391,0],[-15.8650379180908,2.28940558433533,0],[-15.9446716308594,2.28940582275391,0],[-16.00439453125,2.28940582275391,0],[-16.0641174316406,2.28940558433533,0],[-16.1039352416992,2.28940582275391,0],[-16.1437511444092,2.28940606117249,0],[-16.2432880401611,2.28940558433533,0],[-16.4622764587402,2.28940558433533,0],[-16.6613540649414,2.28940558433533,0],[-16.8206176757813,2.28940534591675,0],[-16.8405265808105,2.28940606117249,0],[-16.8604335784912,2.28940582275391,0],[-16.8803405761719,2.26949763298035,0],[-16.9002494812012,2.26949739456177,0],[-16.9599723815918,2.26949763298035,0],[-16.9997863769531,2.24958968162537,0],[-17.0196971893311,2.24958968162537,0],[-16.9897899627686,2.11023449897766,0],[-16.9897899627686,2.11023449897766,0],[-16.9897899627686,2.11023449897766,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"food_pantry\",\"label_position\":[-16.0004119873047,0.601217746734619],\"properties\":{},\"waypoints\":[]}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"can_of_beans\",\"position\":[-16.1027698516846,-0.08818739652634],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"cup\",\"position\":[-15.3651161193848,5.2159595489502],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"bounding_box\":[[-13.0835332870483,6.67750453948975,0],[-13.0835342407227,6.63483333587646,0],[-13.0835342407227,6.53526544570923,0],[-13.0835342407227,6.43569850921631,0],[-13.1262054443359,6.36457777023315,0],[-13.1262054443359,6.30768203735352,0],[-13.1262054443359,6.27923488616943,0],[-13.1262054443359,6.19389057159424,0],[-13.1262044906616,6.13699388504028,0],[-13.1262073516846,6.10854721069336,0],[-13.1262054443359,6.03742647171021,0],[-13.1262054443359,5.98053121566772,0],[-13.1262044906616,5.90941047668457,0],[-13.1262054443359,5.86673831939697,0],[-13.1262054443359,5.80984258651733,0],[-13.1262054443359,5.78139448165894,0],[-13.1262054443359,5.71027565002441,0],[-13.1262054443359,5.68182754516602,0],[-13.1262054443359,5.61070728302002,0],[-13.1262054443359,5.55381155014038,0],[-13.1262054443359,5.52536344528198,0],[-13.1262063980103,5.46846866607666,0],[-13.1262054443359,5.44002056121826,0],[-13.1262054443359,5.41157150268555,0],[-13.1262054443359,5.38312339782715,0],[-13.1262054443359,5.32622814178467,0],[-13.1262054443359,5.26933193206787,0],[-13.1262054443359,5.22666025161743,0],[-13.1262054443359,5.19821310043335,0],[-13.1262054443359,5.14131593704224,0],[-13.1262054443359,5.11286926269531,0],[-13.1262044906616,5.0986442565918,0],[-13.1262054443359,5.0701961517334,0],[-13.0835342407227,5.05597257614136,0],[-13.0124130249023,5.05597257614136,0],[-12.9128456115723,5.05597257614136,0],[-12.7137107849121,5.05597257614136,0],[-12.6425905227661,5.0559720993042,0],[-12.5856943130493,5.05597257614136,0],[-12.543023109436,5.0559720993042,0],[-12.5003509521484,5.05597257614136,0],[-12.47190284729,5.05597305297852,0],[-12.400782585144,5.05597257614136,0],[-12.3296642303467,5.05597257614136,0],[-12.2016468048096,5.04174852371216,0],[-12.0736322402954,4.99907732009888,0],[-11.9313926696777,4.97062921524048,0],[-11.8318243026733,4.97062921524048,0],[-11.7607040405273,4.97062873840332,0],[-11.7464809417725,4.97062921524048,0],[-11.7322559356689,4.97062873840332,0],[-11.6895847320557,4.97062826156616,0],[-11.6326885223389,4.97062873840332,0],[-11.5473442077637,4.97062873840332,0],[-11.476224899292,4.98485326766968,0],[-11.3624334335327,4.98485279083252,0],[-11.2628660202026,4.98485279083252,0],[-11.1917457580566,4.98485279083252,0],[-11.1348495483398,4.98485231399536,0],[-11.1064014434814,4.98485279083252,0],[-11.0637302398682,4.99907732009888,0],[-11.0352821350098,4.99907684326172,0],[-11.0068340301514,4.99907636642456,0],[-10.9926099777222,4.99907636642456,0],[-10.978385925293,4.99907636642456,0],[-10.9499378204346,5.01330089569092,0],[-10.9499378204346,5.02752494812012,0],[-10.9499378204346,5.08442115783691,0],[-10.9499378204346,5.15554046630859,0],[-10.9499378204346,5.19821214675903,0],[-10.9499378204346,5.28355646133423,0],[-10.9499378204346,5.35467624664307,0],[-10.9499378204346,5.4257960319519,0],[-10.9499378204346,5.49691486358643,0],[-10.9499378204346,5.56803560256958,0],[-10.9499378204346,5.6391544342041,0],[-10.9499378204346,5.73872327804565,0],[-10.978385925293,5.85251426696777,0],[-10.978385925293,5.90941047668457,0],[-10.978385925293,5.95208311080933,0],[-10.978385925293,5.99475383758545,0],[-10.978385925293,6.03742599487305,0],[-10.9783849716187,6.06587409973145,0],[-11.0068340301514,6.12276983261108,0],[-11.0210580825806,6.22233819961548,0],[-11.0210590362549,6.27923488616943,0],[-11.0352821350098,6.35035419464111,0],[-11.0352821350098,6.42147493362427,0],[-11.0352821350098,6.47836971282959,0],[-11.0352802276611,6.53526496887207,0],[-11.0352802276611,6.59216117858887,0],[-11.0352811813354,6.63483285903931,0],[-11.0352811813354,6.66328096389771,0],[-11.0352821350098,6.69173002243042,0],[-11.0352821350098,6.7059531211853,0],[-11.0352811813354,6.72017765045166,0],[-11.0352821350098,6.74862575531006,0],[-11.0637302398682,6.76284885406494,0],[-11.0921773910522,6.7628493309021,0],[-11.1632976531982,6.76284885406494,0],[-11.2913131713867,6.74862480163574,0],[-11.4051055908203,6.73440074920654,0],[-11.5615692138672,6.7344012260437,0],[-11.7180328369141,6.73440170288086,0],[-11.8033771514893,6.73440217971802,0],[-11.8887205123901,6.73440170288086,0],[-11.9313907623291,6.73440027236938,0],[-11.9882869720459,6.7059531211853,0],[-12.0309600830078,6.69172859191895,0],[-12.0594081878662,6.69172954559326,0],[-12.0878562927246,6.6917290687561,0],[-12.1447505950928,6.69172859191895,0],[-12.2158718109131,6.67750549316406,0],[-12.230094909668,6.6775050163269,0],[-12.301215171814,6.6775050163269,0],[-12.3581104278564,6.67750549316406,0],[-12.4007816314697,6.67750453948975,0],[-12.4576778411865,6.67750453948975,0],[-12.5003509521484,6.64905691146851,0],[-12.5430221557617,6.64905691146851,0],[-12.5714702606201,6.64905691146851,0],[-12.5856952667236,6.64905738830566,0],[-12.6425895690918,6.63483190536499,0],[-12.6710386276245,6.63483333587646,0],[-12.7421579360962,6.63483333587646,0],[-12.7990531921387,6.63483333587646,0],[-12.870174407959,6.63483381271362,0],[-12.8986206054688,6.63483238220215,0],[-12.9128456115723,6.63483333587646,0],[-12.9697418212891,6.63483381271362,0],[-13.0408611297607,6.63483381271362,0],[-13.1546535491943,6.63483333587646,0],[-13.2542219161987,6.63483238220215,0],[-13.2826709747314,6.63483333587646,0],[-13.3395652770996,6.63483333587646,0],[-13.3537883758545,6.63483381271362,0],[-13.3822374343872,6.63483381271362,0],[-13.3964605331421,6.63483285903931,0],[-13.4533576965332,6.63483381271362,0],[-13.0735330581665,6.67750453948975,0],[-13.0735330581665,6.67750453948975,0],[-13.0735330581665,6.67750453948975,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"stovetop\",\"label_position\":[-11.9769086837769,5.69605112075806],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-12.6890430450439,2.34774684906006,0],[-12.7487659454346,0.934288084506989,0],[-9.16534805297852,1.13336682319641,0],[-9.44405841827393,2.54682588577271,0],[-11.7661752700806,2.42244815826416,0],[-12.6790428161621,2.34774684906006,0],[-12.6790428161621,2.34774684906006,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"dining_table\",\"label_position\":[-11.1626777648926,1.87693512439728],\"properties\":{},\"waypoints\":[]}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"pot\",\"position\":[-15.8153953552246,3.90510630607605],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"bag_of_chips\",\"position\":[-16.0918483734131,1.31165504455566],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}"]},
	"goals_food_assembly_map.save": {"map":["{\"entity_class\":\"robot\",\"label\":\"Stretch\",\"position\":[0,0,0]}","{\"bounding_box\":[[-17.1343383789063,7.13192319869995,0],[-17.2119998931885,-1.14587485790253,0],[-6.73201608657837,-1.26523625850677,0],[-6.8991231918335,0.167106434702873,0],[-6.94686794281006,6.8036322593689,0],[-10.5038547515869,7.04235696792603,0],[-12.7956056594849,6.9946117401123,0],[-17.1243381500244,7.13192319869995,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"kitchen_area\",\"label_position\":[-11.1748294830322,3.67550277709961],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-6.4770712852478,6.6953125,0],[-6.29235792160034,-1.07425832748413,0],[-2.85473155975342,-1.26523649692535,0],[3.55381226539612,-1.37773549556732,0],[3.7230076789856,6.35692024230957,0],[-6.46707105636597,6.6953125,0]],\"color\":[1,0.247059002518654,0.266667008399963,1],\"entity_class\":\"region\",\"label\":\"living_room\",\"label_position\":[-1.66946816444397,1.86700046062469],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.1435794830322,6.81457376480103,0],[-16.6846866607666,3.29737448692322,0],[-15.7546577453613,3.21282696723938,0],[-15.0782737731934,3.24664568901062,0],[-14.6048049926758,6.61165857315063,0],[-16.1335792541504,6.81457376480103,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"countertop\",\"label_position\":[-15.6532001495361,4.63661575317383],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-16.9997901916504,2.11023449897766,0],[-16.9997882843018,2.05051136016846,0],[-16.9997882843018,1.91115570068359,0],[-16.9997882843018,1.77180075645447,0],[-16.9997882843018,1.67226123809814,0],[-16.9997863769531,1.57272219657898,0],[-16.9997882843018,1.41345882415771,0],[-16.9997882843018,1.31392002105713,0],[-16.9997882843018,1.21438026428223,0],[-16.9997882843018,1.11484062671661,0],[-16.9997882843018,1.01530158519745,0],[-16.9997882843018,0.875946164131165,0],[-16.9997882843018,0.79631507396698,0],[-16.9997863769531,0.736591279506683,0],[-16.9997882843018,0.676867544651031,0],[-16.9997882843018,0.61714380979538,0],[-16.9997882843018,0.577328562736511,0],[-16.9997882843018,0.477788895368576,0],[-16.9997863769531,0.418065160512924,0],[-16.9997901916504,0.358342051506042,0],[-16.9997882843018,0.278710335493088,0],[-16.9997882843018,0.179170683026314,0],[-16.9997882843018,0.0995396226644516,0],[-16.9997882843018,0,0],[-16.9997882843018,-0.0398158505559,0],[-16.9997882843018,-0.139354839921,0],[-16.9997882843018,-0.17917068302631,0],[-16.9997901916504,-0.21898654103279,0],[-16.9997882843018,-0.27870973944664,0],[-16.9997882843018,-0.29861822724342,0],[-16.9997882843018,-0.33843412995338,0],[-16.9997901916504,-0.35834142565727,0],[-16.9997882843018,-0.3782499730587,0],[-16.9997863769531,-0.3981571495533,0],[-16.9997882843018,-0.45788162946701,0],[-16.9997882843018,-0.49769619107246,0],[-16.9997901916504,-0.51760482788086,0],[-16.9997863769531,-0.53751200437546,0],[-16.9997882843018,-0.55742067098618,0],[-16.9798793792725,-0.59723651409149,0],[-16.9400653839111,-0.57732790708542,0],[-16.8405246734619,-0.57732790708542,0],[-16.7011699676514,-0.57732778787613,0],[-16.4423675537109,-0.57732784748077,0],[-16.3428287506104,-0.57732790708542,0],[-16.2631988525391,-0.57732790708542,0],[-16.2233829498291,-0.57732796669006,0],[-16.1835651397705,-0.57732784748077,0],[-16.1636581420898,-0.57732790708542,0],[-16.0840263366699,-0.57732790708542,0],[-16.04421043396,-0.57732784748077,0],[-15.96457862854,-0.57732790708542,0],[-15.8849487304688,-0.57732802629471,0],[-15.8451328277588,-0.57732796669006,0],[-15.8053150177002,-0.57732796669006,0],[-15.7256832122803,-0.57732784748077,0],[-15.6858692169189,-0.57732796669006,0],[-15.6261444091797,-0.57732784748077,0],[-15.5664215087891,-0.57732790708542,0],[-15.5266056060791,-0.57732784748077,0],[-15.4668827056885,-0.57732784748077,0],[-15.4071578979492,-0.57732784748077,0],[-15.3673419952393,-0.57732784748077,0],[-15.34743309021,-0.57732796669006,0],[-15.3275260925293,-0.57732784748077,0],[-15.3076190948486,-0.57732790708542,0],[-15.3076190948486,-0.57732790708542,0],[-15.2678031921387,-0.55742067098618,0],[-15.2678031921387,-0.53751212358475,0],[-15.26780128479,-0.49769616127014,0],[-15.2678031921387,-0.33843407034874,0],[-15.26780128479,-0.19907923042774,0],[-15.3076190948486,-0.0398158505559,0],[-15.34743309021,0.0398158505558968,0],[-15.3474349975586,0.119447559118271,0],[-15.3673419952393,0.159262776374817,0],[-15.3673419952393,0.258802384138107,0],[-15.3872509002686,0.378249317407608,0],[-15.3872489929199,0.398157179355621,0],[-15.3872509002686,0.497696816921234,0],[-15.4469738006592,0.577328562736511,0],[-15.4469738006592,0.637051701545715,0],[-15.4469757080078,0.79631507396698,0],[-15.4469738006592,0.856038212776184,0],[-15.4469738006592,0.955577850341797,0],[-15.4469757080078,1.01530170440674,0],[-15.4469738006592,1.11484062671661,0],[-15.4469738006592,1.21438014507294,0],[-15.4469738006592,1.35373497009277,0],[-15.4469738006592,1.45327460765839,0],[-15.4469738006592,1.59262955188751,0],[-15.4469738006592,1.69216918945313,0],[-15.4469738006592,1.75189292430878,0],[-15.4469757080078,1.85143220424652,0],[-15.4469757080078,1.95097184181213,0],[-15.4469738006592,1.99078726768494,0],[-15.4469757080078,2.05051136016846,0],[-15.4469757080078,2.07041907310486,0],[-15.4469757080078,2.09032654762268,0],[-15.4469757080078,2.13014245033264,0],[-15.4469738006592,2.15005016326904,0],[-15.4469738006592,2.18986582756042,0],[-15.4469738006592,2.22968196868896,0],[-15.4469718933105,2.24958944320679,0],[-15.4469738006592,2.26949787139893,0],[-15.4668827056885,2.28940582275391,0],[-15.5664215087891,2.28940606117249,0],[-15.6261444091797,2.28940582275391,0],[-15.7256851196289,2.28940582275391,0],[-15.8650379180908,2.28940558433533,0],[-15.9446716308594,2.28940582275391,0],[-16.00439453125,2.28940582275391,0],[-16.0641174316406,2.28940558433533,0],[-16.1039352416992,2.28940582275391,0],[-16.1437511444092,2.28940606117249,0],[-16.2432880401611,2.28940558433533,0],[-16.4622764587402,2.28940558433533,0],[-16.6613540649414,2.28940558433533,0],[-16.8206176757813,2.28940534591675,0],[-16.8405265808105,2.28940606117249,0],[-16.8604335784912,2.28940582275391,0],[-16.8803405761719,2.26949763298035,0],[-16.9002494812012,2.26949739456177,0],[-16.9599723815918,2.26949763298035,0],[-16.9997863769531,2.24958968162537,0],[-17.0196971893311,2.24958968162537,0],[-16.9897899627686,2.11023449897766,0],[-16.9897899627686,2.11023449897766,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"food_pantry\",\"label_position\":[-16.0004119873047,0.601217746734619],\"properties\":{},\"waypoints\":[]}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"can_of_soup\",\"position\":[-16.0232067108154,1.26742339134216],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"pot\",\"position\":[-11.4421653747559,5.30041790008545],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"cup\",\"position\":[-15.3651161193848,5.2159595489502],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}","{\"bounding_box\":[[-13.0835332870483,6.67750453948975,0],[-13.0835342407227,6.63483333587646,0],[-13.0835342407227,6.53526544570923,0],[-13.0835342407227,6.43569850921631,0],[-13.1262054443359,6.36457777023315,0],[-13.1262054443359,6.30768203735352,0],[-13.1262054443359,6.27923488616943,0],[-13.1262054443359,6.19389057159424,0],[-13.1262044906616,6.13699388504028,0],[-13.1262073516846,6.10854721069336,0],[-13.1262054443359,6.03742647171021,0],[-13.1262054443359,5.98053121566772,0],[-13.1262044906616,5.90941047668457,0],[-13.1262054443359,5.86673831939697,0],[-13.1262054443359,5.80984258651733,0],[-13.1262054443359,5.78139448165894,0],[-13.1262054443359,5.71027565002441,0],[-13.1262054443359,5.68182754516602,0],[-13.1262054443359,5.61070728302002,0],[-13.1262054443359,5.55381155014038,0],[-13.1262054443359,5.52536344528198,0],[-13.1262063980103,5.46846866607666,0],[-13.1262054443359,5.44002056121826,0],[-13.1262054443359,5.41157150268555,0],[-13.1262054443359,5.38312339782715,0],[-13.1262054443359,5.32622814178467,0],[-13.1262054443359,5.26933193206787,0],[-13.1262054443359,5.22666025161743,0],[-13.1262054443359,5.19821310043335,0],[-13.1262054443359,5.14131593704224,0],[-13.1262054443359,5.11286926269531,0],[-13.1262044906616,5.0986442565918,0],[-13.1262054443359,5.0701961517334,0],[-13.0835342407227,5.05597257614136,0],[-13.0124130249023,5.05597257614136,0],[-12.9128456115723,5.05597257614136,0],[-12.7137107849121,5.05597257614136,0],[-12.6425905227661,5.0559720993042,0],[-12.5856943130493,5.05597257614136,0],[-12.543023109436,5.0559720993042,0],[-12.5003509521484,5.05597257614136,0],[-12.47190284729,5.05597305297852,0],[-12.400782585144,5.05597257614136,0],[-12.3296642303467,5.05597257614136,0],[-12.2016468048096,5.04174852371216,0],[-12.0736322402954,4.99907732009888,0],[-11.9313926696777,4.97062921524048,0],[-11.8318243026733,4.97062921524048,0],[-11.7607040405273,4.97062873840332,0],[-11.7464809417725,4.97062921524048,0],[-11.7322559356689,4.97062873840332,0],[-11.6895847320557,4.97062826156616,0],[-11.6326885223389,4.97062873840332,0],[-11.5473442077637,4.97062873840332,0],[-11.476224899292,4.98485326766968,0],[-11.3624334335327,4.98485279083252,0],[-11.2628660202026,4.98485279083252,0],[-11.1917457580566,4.98485279083252,0],[-11.1348495483398,4.98485231399536,0],[-11.1064014434814,4.98485279083252,0],[-11.0637302398682,4.99907732009888,0],[-11.0352821350098,4.99907684326172,0],[-11.0068340301514,4.99907636642456,0],[-10.9926099777222,4.99907636642456,0],[-10.978385925293,4.99907636642456,0],[-10.9499378204346,5.01330089569092,0],[-10.9499378204346,5.02752494812012,0],[-10.9499378204346,5.08442115783691,0],[-10.9499378204346,5.15554046630859,0],[-10.9499378204346,5.19821214675903,0],[-10.9499378204346,5.28355646133423,0],[-10.9499378204346,5.35467624664307,0],[-10.9499378204346,5.4257960319519,0],[-10.9499378204346,5.49691486358643,0],[-10.9499378204346,5.56803560256958,0],[-10.9499378204346,5.6391544342041,0],[-10.9499378204346,5.73872327804565,0],[-10.978385925293,5.85251426696777,0],[-10.978385925293,5.90941047668457,0],[-10.978385925293,5.95208311080933,0],[-10.978385925293,5.99475383758545,0],[-10.978385925293,6.03742599487305,0],[-10.9783849716187,6.06587409973145,0],[-11.0068340301514,6.12276983261108,0],[-11.0210580825806,6.22233819961548,0],[-11.0210590362549,6.27923488616943,0],[-11.0352821350098,6.35035419464111,0],[-11.0352821350098,6.42147493362427,0],[-11.0352821350098,6.47836971282959,0],[-11.0352802276611,6.53526496887207,0],[-11.0352802276611,6.59216117858887,0],[-11.0352811813354,6.63483285903931,0],[-11.0352811813354,6.66328096389771,0],[-11.0352821350098,6.69173002243042,0],[-11.0352821350098,6.7059531211853,0],[-11.0352811813354,6.72017765045166,0],[-11.0352821350098,6.74862575531006,0],[-11.0637302398682,6.76284885406494,0],[-11.0921773910522,6.7628493309021,0],[-11.1632976531982,6.76284885406494,0],[-11.2913131713867,6.74862480163574,0],[-11.4051055908203,6.73440074920654,0],[-11.5615692138672,6.7344012260437,0],[-11.7180328369141,6.73440170288086,0],[-11.8033771514893,6.73440217971802,0],[-11.8887205123901,6.73440170288086,0],[-11.9313907623291,6.73440027236938,0],[-11.9882869720459,6.7059531211853,0],[-12.0309600830078,6.69172859191895,0],[-12.0594081878662,6.69172954559326,0],[-12.0878562927246,6.6917290687561,0],[-12.1447505950928,6.69172859191895,0],[-12.2158718109131,6.67750549316406,0],[-12.230094909668,6.6775050163269,0],[-12.301215171814,6.6775050163269,0],[-12.3581104278564,6.67750549316406,0],[-12.4007816314697,6.67750453948975,0],[-12.4576778411865,6.67750453948975,0],[-12.5003509521484,6.64905691146851,0],[-12.5430221557617,6.64905691146851,0],[-12.5714702606201,6.64905691146851,0],[-12.5856952667236,6.64905738830566,0],[-12.6425895690918,6.63483190536499,0],[-12.6710386276245,6.63483333587646,0],[-12.7421579360962,6.63483333587646,0],[-12.7990531921387,6.63483333587646,0],[-12.870174407959,6.63483381271362,0],[-12.8986206054688,6.63483238220215,0],[-12.9128456115723,6.63483333587646,0],[-12.9697418212891,6.63483381271362,0],[-13.0408611297607,6.63483381271362,0],[-13.1546535491943,6.63483333587646,0],[-13.2542219161987,6.63483238220215,0],[-13.2826709747314,6.63483333587646,0],[-13.3395652770996,6.63483333587646,0],[-13.3537883758545,6.63483381271362,0],[-13.3822374343872,6.63483381271362,0],[-13.3964605331421,6.63483285903931,0],[-13.4533576965332,6.63483381271362,0],[-13.0735330581665,6.67750453948975,0],[-13.0735330581665,6.67750453948975,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"stovetop\",\"label_position\":[-11.9769086837769,5.69605112075806],\"properties\":{},\"waypoints\":[]}","{\"bounding_box\":[[-12.6890430450439,2.34774684906006,0],[-12.7487659454346,0.934288084506989,0],[-9.16534805297852,1.13336682319641,0],[-9.44405841827393,2.54682588577271,0],[-11.7661752700806,2.42244815826416,0],[-12.6790428161621,2.34774684906006,0]],\"color\":[0,0.346381992101669,0.346875995397568,1],\"entity_class\":\"surface\",\"label\":\"dining_table\",\"label_position\":[-11.1626777648926,1.87693512439728],\"properties\":{},\"waypoints\":[]}","{\"color\":[0.855000019073486,0.216000005602837,0.38400000333786,1],\"entity_class\":\"item\",\"label\":\"bowl\",\"position\":[-15.8153953552246,3.90510630607605],\"properties\":{\"is_grabbable\":true,\"is_openable\":false}}"]}
}

# references to children
@onready var camera2d := $Camera2D
@onready var map_scene := $Problem/World/Map/Map
@onready var db_scene := $Problem/World/world_database
@onready var exceptions := $UILayerDrawingBoard/StatusIndicators/Exceptions as VBoxContainer
@onready var status := $UILayerDrawingBoard/StatusIndicators as Control
@onready var experiment_setups := $Experiment as Node
# var simulator_scene_file := load("res://Scenes/simulator/simulator.tscn")

# which drawing board to load
var goal_automata_scene_file := load("res://Scenes/DrawingBoard/goal_automata.tscn")
var timeline_scene_file := load("res://Scenes/linear_GA/timeline_scenes/timeline.tscn")
var replayer_file := load("res://Scenes/replayer/replayer.tscn")
var drawing_board: Node

# experimentation
var begin_screen_scene := load("res://Scenes/experimentation/begin.tscn")

# Called when the node enters the scene tree for the first time.
func _ready():	
	Options.set_options(options)
	Options.add_option("instance_id", str(Time.get_unix_time_from_system()))
	Saves.set_saves(preloaded_saves)
	
	# resizing window
	get_viewport().connect("size_changed", _on_viewport_resize)
	_on_viewport_resize()
	
	# panel switching
	SignalBus.enter_map.connect(_on_map_enter)
	SignalBus.play.connect(_on_play)
	SignalBus.exit_map.connect(_on_map_exit)
	
	if Options.opts.goals_timeline or Options.opts.actions_timeline:
		drawing_board = timeline_scene_file.instantiate()
	else:
		drawing_board = goal_automata_scene_file.instantiate() 
	get_node("Problem").add_child(drawing_board)
	drawing_board.visible = false
	
	# if replaying, prepare player
	if Options.opts.replay:
		var replay_text = FileAccess.get_file_as_string("res://Resources/recordings/" + Options.opts.replay_file + ".txt")
		replay_text = replay_text.replace("\'", "\"")
		replay_text = replay_text.replace("True", "true")
		replay_text = replay_text.replace("False", "false")
		replay_text = replay_text.replace("None", "null")
		var events: PackedStringArray = replay_text.split('\n')
		
		# make sure we don't log the replay
		Options.opts.log_to_backend = false
		
		# run the replayer
		var replayer: Replayer = replayer_file.instantiate()
		add_child(replayer)
		replayer.load_recording(events)
		replayer.start()
		
	# if logging, log the options
	elif Options.opts.log_to_backend:
		SignalBus.log_to_backend.emit(
			Time.get_ticks_msec(),
			"options",
			Options.opts
		)
		
	# if running an experiment, initiate the correct setup
	SignalBus.load_begin_screen.connect(_load_begin_screen)
	if Options.opts.uncert_experiment:
		experiment_setups.initiate_uncert_experiment()
	if Options.opts.camera_tutorial:
		experiment_setups.initiate_camera_tutorial()
	if Options.opts.uncert_analysis:
		experiment_setups.initiate_uncert_analysis()
		
	#_on_map_exit()

func _load_begin_screen() -> void:
	var begin_screen = begin_screen_scene.instantiate()
	add_child(begin_screen)

func _on_map_exit():
	status.visible = true
	drawing_board.propagate_call("show")
	drawing_board.show()
	exceptions.show()
	exceptions.propagate_call("show")
	
	if Options.opts.goals_timeline or Options.opts.actions_timeline:
		camera2d.set_to_timeline()
	else:
		camera2d.set_to_branching_drawing_board()

func _on_map_enter():
	status.visible = false
	drawing_board.propagate_call("hide")
	drawing_board.hide()
	exceptions.hide()
	exceptions.propagate_call("hide")
	camera2d.set_to_map()
	
func _on_play() -> void:
	pass
	'''
	map_scene.propagate_call("hide")
	map_scene.hide()
	drawing_board.propagate_call("hide")
	drawing_board.hide()
	var simulator = simulator_scene_file.instantiate()
	# var steps = get_node("Problem").get_node("GoalAutomata").init.out_trans[0].build_simulator_steps()
	simulator.set_initial_plan(get_node("Problem").get_node("GoalAutomata").curr_plan)
	simulator.set_initial_world(get_node("Problem/World/world_database").get_world())
	simulator.set_pred_id_lookup(get_node("Problem").get_node("GoalAutomata").get_pred_id_dict())
	add_child(simulator)
	'''
	
func _input(event: InputEvent) -> void:
	# just for logging
	if event.is_action_pressed("click"):
		Logger.log_event("left_mouse_down", {})
	if event.is_action_released("click"):
		Logger.log_event("left_mouse_up", {})
		
	if event is InputEventMouseButton and event.pressed:
		# if right click, disable all colliders
		if event.is_action_pressed("rclick"):
			SignalBus.disable_world_entity_raycasts.emit()
	if event is InputEventMouseButton and\
		(event.is_action_released("rclick") or\
		 event.is_action_released("click")):
		# re-enable all colliders, force-release the click
		SignalBus.enable_world_entity_raycasts.emit()
		SignalBus.release_click.emit()
	
func _on_viewport_resize() -> void:
	pass
